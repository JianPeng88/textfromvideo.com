<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Text - textfromvideo.com</title>
    <meta name="description" content="Edit and download converted video text">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animations.css">
    <!-- Font icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        /* Edit page special styles */
        body {
            background-color: var(--light-bg);
            padding-top: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* 新的头部样式 */
        .header {
            background: linear-gradient(135deg, #2980b9, #1a5276);
            padding: 15px 0;
            position: relative;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .logo h1 {
            color: white;
            font-size: 1.8rem;
            font-weight: 600;
            margin: 0;
            letter-spacing: -0.5px;
        }
        
        .main-nav ul {
            display: flex;
            gap: 25px;
            margin: 0;
            padding: 0;
            list-style: none;
        }
        
        .main-nav a {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 5px 0;
        }
        
        .main-nav a:hover {
            color: white;
        }
        
        .main-nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: width 0.3s ease;
        }
        
        .main-nav a:hover::after {
            width: 100%;
        }
        
        .auth-buttons {
            display: flex;
            gap: 10px;
        }
        
        .auth-buttons .btn {
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-outline {
            border: 1px solid rgba(255,255,255,0.8);
            color: white;
            background: transparent;
        }
        
        .btn-outline:hover {
            background-color: rgba(255,255,255,0.1);
        }
        
        .btn-primary {
            background-color: #3498db;
            color: white;
            border: none;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        /* 编辑容器样式更新 */
        .edit-container {
            max-width: 1000px;
            margin: 30px auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .edit-header {
            padding: 25px 30px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f8f9fa;
        }
        
        .edit-title h1 {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .edit-title p {
            font-size: 0.95rem;
            color: #7f8c8d;
            margin: 0;
        }
        
        .edit-actions {
            display: flex;
            gap: 12px;
        }
        
        .edit-actions .btn {
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .edit-actions .btn i {
            font-size: 0.9rem;
        }
        
        /* 编辑区域样式 */
        .edit-main {
            display: flex;
            height: calc(100vh - 230px);
            min-height: 400px;
        }
        
        .editor-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #eee;
        }
        
        .editor-toolbar {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 15px;
            background-color: #f8f9fa;
        }
        
        .toolbar-btn {
            background: none;
            border: none;
            font-size: 1rem;
            color: #34495e;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 3px;
            transition: all 0.2s ease;
        }
        
        .toolbar-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
            color: #3498db;
        }
        
        .toolbar-separator {
            width: 1px;
            height: 20px;
            background-color: #eee;
        }
        
        .editor-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
        
        .text-editor {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
            padding: 20px;
            font-size: 1rem;
            line-height: 1.6;
            color: #34495e;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .text-editor:focus {
            outline: none;
        }
        
        .timestamp-container {
            width: 250px;
            overflow-y: auto;
            background-color: #f8f9fa;
        }
        
        .timestamps-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .timestamps-header h2 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .timestamps-header p {
            font-size: 0.8rem;
            color: #7f8c8d;
            margin: 0;
        }
        
        .timestamps-list {
            padding: 10px 0;
        }
        
        .timestamp-item {
            padding: 10px 15px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: background-color 0.3s ease;
        }
        
        .timestamp-item:hover {
            background-color: rgba(52, 152, 219, 0.05);
            border-left-color: #3498db;
        }
        
        .timestamp-time {
            font-weight: bold;
            font-size: 0.9rem;
            color: #3498db;
            margin-bottom: 5px;
        }
        
        .timestamp-text {
            font-size: 0.85rem;
            color: #34495e;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .edit-footer {
            padding: 15px 30px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f8f9fa;
        }
        
        .text-stats {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .edit-buttons {
            display: flex;
            gap: 15px;
        }
        
        .edit-buttons .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        /* Download modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
            backdrop-filter: blur(3px);
        }
        
        .modal {
            background-color: white;
            border-radius: 8px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
            animation: fadeInDown 0.3s ease-out;
            overflow: hidden;
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            background-color: #f8f9fa;
        }
        
        .modal-header h2 {
            font-size: 1.3rem;
            color: #2c3e50;
            margin: 0;
            font-weight: 600;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .download-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .download-option {
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .download-option:hover {
            border-color: #3498db;
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .download-option.selected {
            border-color: #3498db;
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .download-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #3498db;
        }
        
        .download-format {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .download-desc {
            font-size: 0.8rem;
            color: #7f8c8d;
        }
        
        .download-settings {
            margin-top: 20px;
        }
        
        .setting-item {
            margin-bottom: 15px;
        }
        
        .setting-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .setting-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: border 0.3s ease;
        }
        
        .setting-input:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .setting-checkbox {
            margin-right: 10px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            background-color: #f8f9fa;
        }
        
        /* Mobile adjustments */
        @media (max-width: 768px) {
            .edit-main {
                flex-direction: column;
                height: auto;
            }
            
            .editor-container {
                border-right: none;
                border-bottom: 1px solid #eee;
                height: 350px;
            }
            
            .timestamp-container {
                width: 100%;
                height: 200px;
            }
            
            .edit-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .edit-actions {
                margin-top: 15px;
                width: 100%;
                justify-content: flex-end;
            }
            
            .edit-footer {
                flex-direction: column;
                gap: 15px;
            }
            
            .text-stats {
                text-align: center;
            }
            
            .edit-buttons {
                width: 100%;
                justify-content: center;
            }
            
            .download-options {
                grid-template-columns: 1fr;
            }
            
            /* 移动端导航适配 */
            .header .container {
                flex-wrap: wrap;
            }
            
            .main-nav {
                order: 3;
                width: 100%;
                display: none;
            }
            
            .main-nav.active {
                display: block;
                margin-top: 15px;
            }
            
            .main-nav ul {
                flex-direction: column;
                gap: 10px;
            }
            
            .mobile-menu-toggle {
                display: block;
                cursor: pointer;
                width: 30px;
                height: 20px;
                position: relative;
            }
            
            .mobile-menu-toggle span {
                display: block;
                position: absolute;
                height: 2px;
                width: 100%;
                background: white;
                transition: all 0.3s ease;
            }
            
            .mobile-menu-toggle span:nth-child(1) {
                top: 0;
            }
            
            .mobile-menu-toggle span:nth-child(2) {
                top: 9px;
            }
            
            .mobile-menu-toggle span:nth-child(3) {
                top: 18px;
            }
        }
        
        /* 新增视频链接转换功能样式 */
        .video-link-converter {
            background: linear-gradient(to right, rgba(66, 133, 244, 0.03), rgba(219, 68, 55, 0.03));
            padding: 20px;
            margin: 0 0 20px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .converter-inner {
            display: flex;
            align-items: center;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .converter-icon {
            font-size: 2.8rem;
            margin-right: 25px;
            position: relative;
            width: 80px;
            height: 80px;
        }
        
        .youtube-icon {
            color: #FF0000;
            position: absolute;
            left: 0;
            top: 8px;
            font-size: 3.2rem;
        }
        
        .tiktok-icon {
            color: #000000;
            position: absolute;
            left: 36px;
            top: 28px;
            font-size: 2.4rem;
            text-shadow: 
                2px 0 0 #00f2ea,
                -2px 0 0 #ff004f;
        }
        
        .converter-content {
            flex: 1;
        }
        
        .converter-content h3 {
            font-size: 1.3rem;
            margin: 0 0 5px 0;
            color: #2c3e50;
        }
        
        .converter-content p {
            margin: 0 0 15px 0;
            color: #7f8c8d;
            font-size: 0.95rem;
        }
        
        .link-input-container {
            display: flex;
            margin-bottom: 10px;
        }
        
        .link-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px 0 0 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .link-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.15);
        }
        
        .convert-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 0 8px 8px 0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .convert-btn:hover {
            background: linear-gradient(135deg, #2980b9, #1a5276);
        }
        
        .platform-badges {
            display: flex;
            gap: 10px;
        }
        
        .platform-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.8rem;
            gap: 5px;
            font-weight: 500;
        }
        
        .platform-badge.youtube {
            background-color: rgba(255, 0, 0, 0.1);
            color: #FF0000;
        }
        
        .platform-badge.tiktok {
            background-color: rgba(0, 0, 0, 0.05);
            color: #000000;
        }
        
        @media (max-width: 768px) {
            .converter-inner {
                flex-direction: column;
                text-align: center;
            }
            
            .converter-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .link-input-container {
                flex-direction: column;
            }
            
            .link-input {
                border-radius: 8px;
                margin-bottom: 10px;
            }
            
            .convert-btn {
                border-radius: 8px;
                justify-content: center;
                padding: 12px;
            }
            
            .platform-badges {
                justify-content: center;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <h1>textfromvideo.com</h1>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html#features">Features</a></li>
                    <li><a href="index.html#how-it-works">How It Works</a></li>
                    <li><a href="index.html#pricing">Pricing</a></li>
                    <li><a href="index.html#faq">FAQ</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <a href="#" class="btn btn-outline">Login</a>
                <a href="#" class="btn btn-primary">Sign Up</a>
            </div>
            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Edit Area -->
    <div class="edit-container fade-in">
        <div class="edit-header">
            <div class="edit-title">
                <h1>Video to Text Converter</h1>
                <p>You can edit the text and export it in different formats</p>
            </div>
            <div class="edit-actions">
                <button class="btn btn-outline" id="undo-btn">
                    <i class="fas fa-undo"></i> Undo
                </button>
                <button class="btn btn-primary" id="download-btn">
                    <i class="fas fa-download"></i> Download Text
                </button>
            </div>
        </div>
        
        <!-- 新增视频链接转换功能区块 -->
        <div class="video-link-converter">
            <div class="converter-inner">
                <div class="converter-icon">
                    <i class="fab fa-youtube youtube-icon"></i>
                    <i class="fab fa-tiktok tiktok-icon"></i>
                </div>
                <div class="converter-content">
                    <h3>Convert from Video Link</h3>
                    <p>Paste YouTube or TikTok link to instantly convert to text</p>
                    <div class="link-input-container">
                        <input type="text" class="link-input" placeholder="https://www.youtube.com/watch?v=... or https://www.tiktok.com/...">
                        <button class="convert-btn">
                            <i class="fas fa-bolt"></i> Convert
                        </button>
                    </div>
                    <div class="platform-badges">
                        <span class="platform-badge youtube">
                            <i class="fab fa-youtube"></i> YouTube
                        </span>
                        <span class="platform-badge tiktok">
                            <i class="fab fa-tiktok"></i> TikTok
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="edit-main">
            <div class="editor-container">
                <div class="editor-toolbar">
                    <button class="toolbar-btn" title="Bold">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="toolbar-btn" title="Italic">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="toolbar-btn" title="Underline">
                        <i class="fas fa-underline"></i>
                    </button>
                    <div class="toolbar-separator"></div>
                    <button class="toolbar-btn" title="Clear Formatting">
                        <i class="fas fa-eraser"></i>
                    </button>
                    <button class="toolbar-btn" title="Add Timestamp">
                        <i class="fas fa-clock"></i>
                    </button>
                    <div class="toolbar-separator"></div>
                    <button class="toolbar-btn" title="Select All">
                        <i class="fas fa-check-double"></i>
                    </button>
                </div>
                <div class="editor-content">
                    <textarea class="text-editor" id="text-editor" placeholder="Text content will be displayed here...">This is a sample converted text from the video.

In this video, we discuss the latest developments and applications of artificial intelligence technology. AI is changing the way we live and work.

Deep learning algorithms enable computers to learn patterns and rules from large amounts of data, achieving more advanced recognition and prediction capabilities. This technology has made significant breakthroughs in image recognition, speech processing, and natural language understanding.

In the next part of the video, we will explore specific application cases of artificial intelligence in healthcare, education, transportation, and other fields, and how these applications improve people's quality of life.

Finally, we discuss the challenges and future development directions of artificial intelligence technology, including ethical issues, privacy protection, and new models of human-machine collaboration.

Thank you for watching! If you find this video helpful, please like and subscribe to our channel for more related content.</textarea>
                </div>
            </div>
            
            <div class="timestamp-container">
                <div class="timestamps-header">
                    <h2>Timestamps</h2>
                    <p>Click to jump to corresponding text position</p>
                </div>
                <div class="timestamps-list">
                    <div class="timestamp-item">
                        <div class="timestamp-time">00:00:05</div>
                        <div class="timestamp-text">In this video, we discuss the latest developments</div>
                    </div>
                    <div class="timestamp-item">
                        <div class="timestamp-time">00:00:32</div>
                        <div class="timestamp-text">Deep learning algorithms enable computers to learn</div>
                    </div>
                    <div class="timestamp-item">
                        <div class="timestamp-time">00:01:15</div>
                        <div class="timestamp-text">In the next part of the video, we will explore</div>
                    </div>
                    <div class="timestamp-item">
                        <div class="timestamp-time">00:02:03</div>
                        <div class="timestamp-text">Finally, we discuss the challenges and future</div>
                    </div>
                    <div class="timestamp-item">
                        <div class="timestamp-time">00:02:47</div>
                        <div class="timestamp-text">Thank you for watching! If you find this video</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="edit-footer">
            <div class="text-stats">
                Word count: <span id="word-count">156</span> words | 
                Paragraphs: <span id="paragraph-count">6</span> | 
                Estimated reading time: <span id="reading-time">1</span> minute
            </div>
            <div class="edit-buttons">
                <a href="index.html" class="btn btn-outline">Back to Home</a>
                <button class="btn btn-primary" id="save-btn">Save Edits</button>
            </div>
        </div>
    </div>
    
    <!-- Download Modal -->
    <div class="modal-overlay" id="download-modal">
        <div class="modal">
            <div class="modal-header">
                <h2>Download Text</h2>
            </div>
            <div class="modal-body">
                <p>Select download format:</p>
                <div class="download-options">
                    <div class="download-option selected" data-format="txt">
                        <div class="download-icon">
                            <i class="far fa-file-alt"></i>
                        </div>
                        <div class="download-format">TXT</div>
                        <div class="download-desc">Plain text format</div>
                    </div>
                    <div class="download-option" data-format="docx">
                        <div class="download-icon">
                            <i class="far fa-file-word"></i>
                        </div>
                        <div class="download-format">DOCX</div>
                        <div class="download-desc">Word document</div>
                    </div>
                    <div class="download-option" data-format="pdf">
                        <div class="download-icon">
                            <i class="far fa-file-pdf"></i>
                        </div>
                        <div class="download-format">PDF</div>
                        <div class="download-desc">PDF document</div>
                    </div>
                    <div class="download-option" data-format="srt">
                        <div class="download-icon">
                            <i class="far fa-closed-captioning"></i>
                        </div>
                        <div class="download-format">SRT</div>
                        <div class="download-desc">Subtitle file</div>
                    </div>
                </div>
                
                <div class="download-settings">
                    <div class="setting-item">
                        <label class="setting-label">File name</label>
                        <input type="text" class="setting-input" id="filename-input" value="Video Transcription">
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" class="setting-checkbox" id="timestamp-checkbox" checked>
                            Include timestamps
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-download">Cancel</button>
                <button class="btn btn-primary" id="confirm-download">Download</button>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initEditor();
            initMobileMenu();
            initDownloadModal();
            initVideoLinkConverter();
        });
        
        /**
         * Initialize editor functions
         */
        function initEditor() {
            const textEditor = document.getElementById('text-editor');
            const wordCount = document.getElementById('word-count');
            const paragraphCount = document.getElementById('paragraph-count');
            const readingTime = document.getElementById('reading-time');
            const saveBtn = document.getElementById('save-btn');
            const undoBtn = document.getElementById('undo-btn');
            
            // Initial stats calculation
            updateStats(textEditor.value);
            
            // Update stats on text change
            textEditor.addEventListener('input', function() {
                updateStats(this.value);
            });
            
            // Timestamp click events
            const timestampItems = document.querySelectorAll('.timestamp-item');
            timestampItems.forEach(item => {
                item.addEventListener('click', function() {
                    const text = this.querySelector('.timestamp-text').textContent;
                    const position = textEditor.value.indexOf(text);
                    if (position !== -1) {
                        textEditor.focus();
                        textEditor.setSelectionRange(position, position + text.length);
                    }
                });
            });
            
            // Save button
            if (saveBtn) {
                saveBtn.addEventListener('click', function() {
                    // In a real project, this would perform an actual save operation
                    this.innerHTML = '<i class="fas fa-check"></i> Saved';
                    this.classList.add('btn-success');
                    
                    setTimeout(() => {
                        this.innerHTML = 'Save Edits';
                        this.classList.remove('btn-success');
                    }, 2000);
                });
            }
            
            // Undo button
            if (undoBtn) {
                undoBtn.addEventListener('click', function() {
                    document.execCommand('undo');
                });
            }
            
            // Toolbar buttons
            const toolbarButtons = document.querySelectorAll('.toolbar-btn');
            toolbarButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.getAttribute('title');
                    
                    switch(action) {
                        case 'Bold':
                            applyTextStyle('bold');
                            break;
                        case 'Italic':
                            applyTextStyle('italic');
                            break;
                        case 'Underline':
                            applyTextStyle('underline');
                            break;
                        case 'Clear Formatting':
                            clearFormatting();
                            break;
                        case 'Add Timestamp':
                            insertTimeStamp();
                            break;
                        case 'Select All':
                            textEditor.select();
                            break;
                    }
                });
            });
        }
        
        /**
         * Update text statistics
         * @param {string} text - Text content
         */
        function updateStats(text) {
            const wordCount = document.getElementById('word-count');
            const paragraphCount = document.getElementById('paragraph-count');
            const readingTime = document.getElementById('reading-time');
            
            // Count words (English by spaces)
            const words = text.trim().split(/\s+/);
            const totalWordCount = words.length;
            
            // Count paragraphs
            const paragraphs = text.split('\n').filter(p => p.trim() !== '');
            
            // Calculate reading time (assuming average reading speed of 300 words per minute)
            const minutes = Math.ceil(totalWordCount / 300);
            
            // Update display
            wordCount.textContent = totalWordCount;
            paragraphCount.textContent = paragraphs.length;
            readingTime.textContent = minutes;
        }
        
        /**
         * Apply text style
         * @param {string} style - Style type to apply
         */
        function applyTextStyle(style) {
            const textEditor = document.getElementById('text-editor');
            const selection = {
                start: textEditor.selectionStart,
                end: textEditor.selectionEnd,
                text: textEditor.value.substring(textEditor.selectionStart, textEditor.selectionEnd)
            };
            
            if (selection.start === selection.end) return;
            
            let formattedText = selection.text;
            let prefix = '', suffix = '';
            
            switch(style) {
                case 'bold':
                    prefix = '**';
                    suffix = '**';
                    break;
                case 'italic':
                    prefix = '_';
                    suffix = '_';
                    break;
                case 'underline':
                    prefix = '__';
                    suffix = '__';
                    break;
            }
            
            // Remove format if already formatted
            if (formattedText.startsWith(prefix) && formattedText.endsWith(suffix)) {
                formattedText = formattedText.substring(prefix.length, formattedText.length - suffix.length);
            } else {
                formattedText = prefix + formattedText + suffix;
            }
            
            // Replace text
            textEditor.value = textEditor.value.substring(0, selection.start) + 
                               formattedText + 
                               textEditor.value.substring(selection.end);
            
            // Maintain selection state
            textEditor.focus();
            textEditor.setSelectionRange(selection.start, selection.start + formattedText.length);
        }
        
        /**
         * Clear text formatting
         */
        function clearFormatting() {
            const textEditor = document.getElementById('text-editor');
            const selection = {
                start: textEditor.selectionStart,
                end: textEditor.selectionEnd,
                text: textEditor.value.substring(textEditor.selectionStart, textEditor.selectionEnd)
            };
            
            if (selection.start === selection.end) return;
            
            // Remove all formatting marks
            let cleanText = selection.text
                .replace(/(\*\*|__)(.*?)\1/g, '$2')
                .replace(/(_)(.*?)\1/g, '$2');
            
            // Replace text
            textEditor.value = textEditor.value.substring(0, selection.start) + 
                               cleanText + 
                               textEditor.value.substring(selection.end);
            
            // Maintain selection state
            textEditor.focus();
            textEditor.setSelectionRange(selection.start, selection.start + cleanText.length);
        }
        
        /**
         * Insert timestamp
         */
        function insertTimeStamp() {
            const textEditor = document.getElementById('text-editor');
            const cursorPos = textEditor.selectionStart;
            
            // Generate timestamp
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timestamp = `[${hours}:${minutes}:${seconds}] `;
            
            // Insert timestamp at cursor position
            textEditor.value = textEditor.value.substring(0, cursorPos) + 
                               timestamp + 
                               textEditor.value.substring(cursorPos);
            
            // Reposition cursor
            textEditor.focus();
            textEditor.setSelectionRange(cursorPos + timestamp.length, cursorPos + timestamp.length);
        }
        
        /**
         * Initialize mobile menu
         */
        function initMobileMenu() {
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const mainNav = document.querySelector('.main-nav');
            
            if (menuToggle && mainNav) {
                menuToggle.addEventListener('click', function() {
                    mainNav.classList.toggle('active');
                    
                    // Toggle hamburger menu icon
                    const spans = menuToggle.querySelectorAll('span');
                    spans.forEach(span => span.classList.toggle('active'));
                    
                    if (mainNav.classList.contains('active')) {
                        // X shape
                        spans[0].style.transform = 'translateY(9px) rotate(45deg)';
                        spans[1].style.opacity = '0';
                        spans[2].style.transform = 'translateY(-9px) rotate(-45deg)';
                    } else {
                        // Restore original state
                        spans[0].style.transform = 'none';
                        spans[1].style.opacity = '1';
                        spans[2].style.transform = 'none';
                    }
                });
            }
        }
        
        /**
         * Initialize download modal
         */
        function initDownloadModal() {
            const downloadBtn = document.getElementById('download-btn');
            const downloadModal = document.getElementById('download-modal');
            const cancelDownload = document.getElementById('cancel-download');
            const confirmDownload = document.getElementById('confirm-download');
            const downloadOptions = document.querySelectorAll('.download-option');
            
            let selectedFormat = 'txt';
            
            // Show modal
            if (downloadBtn && downloadModal) {
                downloadBtn.addEventListener('click', function() {
                    downloadModal.style.display = 'flex';
                });
            }
            
            // Close modal
            if (cancelDownload && downloadModal) {
                cancelDownload.addEventListener('click', function() {
                    downloadModal.style.display = 'none';
                });
            }
            
            // Click background to close modal
            if (downloadModal) {
                downloadModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            }
            
            // Select download format
            if (downloadOptions) {
                downloadOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        downloadOptions.forEach(opt => opt.classList.remove('selected'));
                        this.classList.add('selected');
                        selectedFormat = this.getAttribute('data-format');
                    });
                });
            }
            
            // Confirm download
            if (confirmDownload) {
                confirmDownload.addEventListener('click', function() {
                    const filename = document.getElementById('filename-input').value || 'Video Transcription';
                    const includeTimestamp = document.getElementById('timestamp-checkbox').checked;
                    const textContent = document.getElementById('text-editor').value;
                    
                    // Format messages
                    const formatMessages = {
                        'txt': 'Plain text file downloaded successfully!',
                        'docx': 'Word document downloaded successfully!',
                        'pdf': 'PDF document downloaded successfully!',
                        'srt': 'Subtitle file downloaded successfully!'
                    };
                    
                    // In a real project, this would call appropriate APIs to generate different file formats
                    simulateDownload(filename, selectedFormat, textContent);
                    
                    // Show success message
                    alert(formatMessages[selectedFormat]);
                    
                    // Close modal
                    downloadModal.style.display = 'none';
                });
            }
        }
        
        /**
         * Simulate file download
         * @param {string} filename - File name
         * @param {string} format - File format
         * @param {string} content - File content
         */
        function simulateDownload(filename, format, content) {
            // In a real project, this would handle different format processing
            // Currently implementing simple TXT download as an example
            
            if (format === 'txt') {
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename + '.txt';
                document.body.appendChild(a);
                a.click();
                URL.revokeObjectURL(url);
                a.remove();
            } else {
                // Other formats would require dedicated libraries or APIs in a real project
                console.log(`Downloading ${format} format file: ${filename}`);
            }
        }
        
        /**
         * Initialize video link converter
         */
        function initVideoLinkConverter() {
            const convertBtn = document.querySelector('.convert-btn');
            const linkInput = document.querySelector('.link-input');
            
            if (convertBtn && linkInput) {
                convertBtn.addEventListener('click', function() {
                    const videoUrl = linkInput.value.trim();
                    if (!videoUrl) {
                        alert('Please enter a YouTube or TikTok video link');
                        return;
                    }
                    
                    // 显示加载状态
                    convertBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Converting...';
                    convertBtn.disabled = true;
                    
                    // 模拟转换过程
                    setTimeout(() => {
                        // 将链接信息显示在编辑区
                        const textEditor = document.getElementById('text-editor');
                        if (textEditor) {
                            const platform = videoUrl.includes('youtube') ? 'YouTube' : 
                                             videoUrl.includes('tiktok') ? 'TikTok' : 'Video';
                            
                            textEditor.value = `[Transcription from ${platform} video: ${videoUrl}]\n\n` + textEditor.value;
                            
                            // 还原按钮状态
                            convertBtn.innerHTML = '<i class="fas fa-bolt"></i> Convert';
                            convertBtn.disabled = false;
                            
                            // 清空输入框
                            linkInput.value = '';
                            
                            // 提示信息
                            alert('Video has been processed! Text is now available in the editor.');
                        }
                    }, 2000);
                });
            }
        }
    </script>
</body>
</html>